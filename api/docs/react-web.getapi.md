<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [@elux/react-web](./react-web.md) &gt; [getApi](./react-web.getapi.md)

## getApi() function

获取应用全局方法

<b>Signature:</b>

```typescript
export declare function getApi<TAPI extends {
    State: any;
    GetActions: any;
    LoadComponent: any;
    Modules: any;
}>(demoteForProductionOnly?: boolean, injectActions?: Record<string, string[]>): Pick<TAPI, 'GetActions' | 'LoadComponent' | 'Modules'> & {
    GetClientRouter: () => IRouter;
    useRouter: () => IRouter;
    useStore: () => IStore<TAPI['State']>;
};
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  demoteForProductionOnly | boolean | 用于不支持Proxy的运行环境，参见：<code>兼容IE浏览器</code> |
|  injectActions | Record&lt;string, string\[\]&gt; | 用于不支持Proxy的运行环境，参见：<code>兼容IE浏览器</code> |

<b>Returns:</b>

Pick&lt;TAPI, 'GetActions' \| 'LoadComponent' \| 'Modules'&gt; &amp; { GetClientRouter: () =&gt; [IRouter](./react-web.irouter.md)<!-- -->; useRouter: () =&gt; [IRouter](./react-web.irouter.md)<!-- -->; useStore: () =&gt; [IStore](./react-web.istore.md)<!-- -->&lt;TAPI\['State'\]&gt;; }

返回包含多个全局方法的结构体：

- `LoadComponent`<!-- -->：用于加载其它模块导出的[UI组件](./react-web.exportview.md)<!-- -->，参见 [ILoadComponent](./react-web.iloadcomponent.md)<!-- -->。

- `Modules`<!-- -->：用于获取所有模块的对外接口，参见 [ModuleFacade](./react-web.modulefacade.md)<!-- -->，例如：

```js
  dispatch(Modules.article.actions.refresh())
```
- `GetActions`<!-- -->：当需要 dispatch 多个 module 的 action 时，例如：

```js
  dispatch(Modules.a.actions.a1())
  dispatch(Modules.b.actions.b1())
```
这种写法可以简化为：

```js
  const {a, b} = GetActions('a', 'b')
  dispatch(a.a1())
  dispatch(b.b1())
```
- `GetClientRouter`<!-- -->：在CSR（`客户端渲染`<!-- -->）环境中用于获取全局Router。

- `useRouter`<!-- -->：用于在 UI Render 中获取当前 Router，在CSR（`客户端渲染`<!-- -->）中其值等于`GetClientRouter()`<!-- -->，例如：

```js
  const globalRouter = GetClientRouter()
  const currentRouter = useRouter()
  console.log(blobalRouter===currentRouter)
```
- `useStore`<!-- -->：用于在 UI Render 中获取当前 Store，例如：

```js
  const store = useStore()
  store.dispatch(Modules.article.actions.refresh())
```

## Remarks

通常不需要参数，仅在兼容不支持Proxy的环境中需要传参

## Example


```js
const {Modules, LoadComponent, GetActions, GetClientRouter, useStore, useRouter} = getApi<API, Router>();
```

